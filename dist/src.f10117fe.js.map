{"version":3,"sources":["src/utils.ts","src/key-input.ts","src/constants.ts","src/game-object.ts","src/rocket.ts","node_modules/js-binary-schema-parser/lib/index.js","node_modules/js-binary-schema-parser/lib/parsers/uint8.js","node_modules/js-binary-schema-parser/lib/schemas/gif.js","node_modules/gifuct-js/lib/deinterlace.js","node_modules/gifuct-js/lib/lzw.js","node_modules/gifuct-js/lib/index.js","src/ship.ts","src/player-ship.ts","src/particle.ts","src/exploded-ship.ts","src/enemy-ship.ts","src/game-screen.ts","src/scrolling-sprite.ts","src/mouse-input.ts","src/menu-screen.ts","src/splash-screen.ts","src/game.ts","src/index.ts","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","push","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","type","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","console","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","log","removeErrorOverlay","error","message","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","remove","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","length","concat","Function","deps","cached","cache","some","cb"],"mappings":"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AA,MAAA;AAlDA,CAAA,CAAoC,aAAA,CAAA,OAApC,CAAA;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxGA,IAAA,WAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AAEA,IAAA,aAAA,GAAA,eAAA,CAAA,OAAA,CAAA,eAAA,CAAA,CAAA;;AAGA,IAAA,IAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAkC,EAAA,SAAA,CAAA,IAAA,EAAA,MAAA,CAAA;;AAQhC,WAAA,IAAA,CAAY,IAAZ,EAAwB,IAAxB,EAAqC,QAArC,EAA0D,QAA1D,EAA0E;AAA1E,QAAA,KA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","file":"src.f10117fe.js","sourceRoot":"..","sourcesContent":["import EnemyShip from \"./enemy-ship\";\nimport Game from \"./game\";\nimport Particle from \"./particle\";\nimport Rocket from \"./rocket\";\nimport Ship from \"./ship\";\n\nexport function detectCollision(object: Ship | Rocket | EnemyShip, object2: Ship | Rocket | EnemyShip): boolean {\n  let bottomOfObject = object.position.y + object.height;\n  let topOfObject = object.position.y;\n  let leftOfObject = object.position.x;\n  let rightOfObject = object.position.x + object.width;\n\n  let topOfObject2 = object2.position.y;\n  let leftSideOfObject2 = object2.position.x;\n  let rightSideOfObject2 = object2.position.x + object2.width;\n  let bottomOfObject2 = object2.position.y + object2.height;\n\n  if (\n    bottomOfObject >= topOfObject2 &&\n    topOfObject <= bottomOfObject2 &&\n    leftOfObject >= leftSideOfObject2 &&\n    rightOfObject <= rightSideOfObject2\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function outsideOfGame(object: Ship | Rocket | EnemyShip | Particle, gameObject: Game): boolean {\n  let bottomOfObject = object.position.y + object.height;\n  let topOfObject = object.position.y;\n  let leftOfObject = object.position.x;\n  let rightOfObject = object.position.x + object.width;\n\n  if (\n    topOfObject >= gameObject.gameHeight ||\n    bottomOfObject <= 0 ||\n    leftOfObject >= gameObject.gameWidth ||\n    rightOfObject <= 0\n  ) {\n    return true;\n  } else {\n    return false;\n  }\n\n}\n\nexport function randomIntFromInterval(min: number, max: number): number { // min and max included \n  return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nexport function debounce(func: Function, wait: number) {\n  let timeout: any;\n\n  return function executedFunction(...args) {\n\n    const later = () => {\n      timeout = null;\n      \n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n};\n\nexport function plusOrMinus(): number { \n  return Math.random() < 0.5 ? -1 : 1;\n}","import { debounce } from './utils';\nimport Game from './game';\nimport PlayerShip from './player-ship';\n\nexport default class KeyInputHandler {\n  constructor(ship: PlayerShip, game: Game) {\n    document.addEventListener('keydown', (event: KeyboardEvent) => {\n      // console.log('keydown', ship.speed, event.code);\n      switch (event.code) {\n        case 'ArrowLeft':\n          ship.moveLeft();\n          break;\n\n        case 'ArrowUp':\n          ship.moveUp();\n          break;\n\n        case 'ArrowRight':\n          ship.moveRight();\n          break;\n\n        case 'ArrowDown':\n          ship.moveDown();\n          break;\n\n        case 'Space':\n          ship.shoot();\n          break;\n\n        case 'KeyS':\n          game.start();\n          break;\n\n        case 'KeyM':\n          game.menu();\n          break;\n  \n      }\n    });\n\n    document.addEventListener('keyup', debounce((event: KeyboardEvent) => {\n      // console.log('keyup', ship.speed, event.code);\n      switch (event.code) {\n        case 'ArrowLeft':\n          // if (ship.speed.x < 0) \n          ship.stop();\n          break;\n\n        case 'ArrowUp':\n          // if (ship.speed.y < 0) \n          ship.stop();\n          break;\n\n        case 'ArrowRight':\n          // if (ship.speed.x > 0) \n          ship.stop();\n          break;\n\n        case 'ArrowDown':\n          // if (ship.speed.y > 0) \n          ship.stop();\n          break;\n      }\n    }, 50));\n  }\n}\n","import { ISpeed } from './interfaces';\n\nexport const GAMESTATE = {\n  PAUSED: 0,\n  RUNNING: 1,\n  MENU: 2,\n  GAMEOVER: 3,\n  SPLASH_SCREEN: 4\n};\n\nexport const DIRECTION = {\n  LEFT: 0,\n  RIGHT: 1,\n  UP: 2,\n  DOWN: 3\n};\n\nexport const OBJECT_TYPE = {\n  PLAYER_SHIP: 0,\n  ENEMY_SHIP: 1,\n  ROCKET: 2,\n  PARTICLE: 3,\n  PARTICLES: 4\n};\n\nexport const SHIP_MAX_SPEED: readonly<ISpeed> = { x: 2, y: 2 };\n","import { IPosition, ISpeed } from \"./interfaces\";\nimport Game from './game';\n\nexport default class GameObject {\n  protected game: Game\n  protected image: HTMLImageElement | undefined;\n  protected angle: number = 0;\n  public width: number;\n  public height: number;\n  public position: IPosition = {x: 0, y: 0};\n  public speed: ISpeed = {x: 0, y: 0};\n  public isDeleted: boolean = false;\n  public type: number = 0;\n  public color: string = '#0ff';\n\n  constructor(width: number, height: number, position: IPosition, speed: ISpeed, game: Game) {\n    this.width = width;\n    this.height = height;\n    this.game = game;\n    this.position.x = position.x;\n    this.position.y = position.y;\n    this.speed.x = speed.x;\n    this.speed.y = speed.y;\n  }\n\n  loadImage(image: string) {\n    this.image = new Image(this.width, this.height);\n    this.image.src = image;\n  }\n\n  speedUpdate(): void {\n    this.position.x += this.speed.x;\n    this.position.y += this.speed.y;\n    this.setAngle();\n  }\n\n  setAngle(): void {\n    if (this.speed.x > 0 && this.speed.y > 0) {\n      this.angle = 135 * Math.PI / 180;\n    }\n    if (this.speed.x > 0 && this.speed.y === 0) {\n      this.angle = 90 * Math.PI / 180;\n    }\n    if (this.speed.x > 0 && this.speed.y < 0) {\n      this.angle = 45 * Math.PI / 180;\n    }\n\n    if (this.speed.x === 0 && this.speed.y > 0) {\n      this.angle = 180 * Math.PI / 180;\n    }\n    if (this.speed.x === 0 && this.speed.y < 0) {\n      this.angle = 0 * Math.PI / 180;\n    }\n\n    if (this.speed.x < 0 && this.speed.y > 0) {\n      this.angle = 225 * Math.PI / 180;\n    }\n    if (this.speed.x < 0 && this.speed.y === 0) {\n      this.angle = 270 * Math.PI / 180;\n    }\n    if (this.speed.x < 0 && this.speed.y < 0) {\n      this.angle = 315 * Math.PI / 180;\n    }\n  }\n}\n","import { OBJECT_TYPE } from \"./constants\";\nimport { outsideOfGame, detectCollision } from \"./utils\";\nimport GameObject from \"./game-object\";\nimport { IPosition, ISpeed } from \"./interfaces\";\nimport Game from \"./game\";\n\nconst ROCKET_SPEED: readonly<ISpeed> = { x: 4, y: 4 };\nexport default class Rocket extends GameObject {\n\n  constructor(game: Game, position: IPosition, speed: ISpeed) {\n    let rocketSpeed = { x: 0, y: 0 };\n    if (speed.x === 0 && speed.y === 0) {\n      rocketSpeed.x = ROCKET_SPEED.x;\n      rocketSpeed.y = 0;\n    } else {\n      rocketSpeed = {\n       x: speed.x > 0 ? ROCKET_SPEED.x : speed.x < 0 ? -ROCKET_SPEED.x : 0,\n       y: speed.y > 0 ? ROCKET_SPEED.y : speed.y < 0 ? -ROCKET_SPEED.y : 0\n     }\n    }\n\n    super(10, 10, position, rocketSpeed, game);\n    this.type = OBJECT_TYPE.ROCKET;\n    this.color = '#f00';\n    this.loadImage('assets/rocket.png');\n  }\n\n  update() {\n    this.speedUpdate();\n    if (outsideOfGame(this, this.game)){\n      this.isDeleted = true;\n    } else {\n      const enemies = this.game.gameObjects.filter((object: any) => object.type === OBJECT_TYPE.ENEMY_SHIP);\n      if (enemies) {\n        enemies.forEach((enemy: any) => {\n          if (detectCollision(this, enemy)) {\n            enemy.exploded = true;\n            this.isDeleted = true;\n          }\n        });\n      }\n    }\n  }\n \n   draw(ctx: CanvasRenderingContext2D) {\n    if (this.image) {\n      ctx.save();\n      ctx.translate(this.position.x + this.width / 2, this.position.y + this.height / 2); \n      ctx.rotate(this.angle);\n      ctx.translate(-(this.position.x + this.width / 2), -(this.position.y + this.height / 2)); \n      ctx.drawImage(this.image, this.position.x, this.position.y, this.width, this.height);\n      ctx.restore();\n    } else {\n      ctx.fillStyle = this.color;\n      ctx.fillRect(this.position.x, this.position.y, this.width, this.height);\n    }\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loop = exports.conditional = exports.parse = void 0;\n\nvar parse = function parse(stream, schema) {\n  var result = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var parent = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : result;\n\n  if (Array.isArray(schema)) {\n    schema.forEach(function (partSchema) {\n      return parse(stream, partSchema, result, parent);\n    });\n  } else if (typeof schema === 'function') {\n    schema(stream, result, parent, parse);\n  } else {\n    var key = Object.keys(schema)[0];\n\n    if (Array.isArray(schema[key])) {\n      parent[key] = {};\n      parse(stream, schema[key], result, parent[key]);\n    } else {\n      parent[key] = schema[key](stream, result, parent, parse);\n    }\n  }\n\n  return result;\n};\n\nexports.parse = parse;\n\nvar conditional = function conditional(schema, conditionFunc) {\n  return function (stream, result, parent, parse) {\n    if (conditionFunc(stream, result, parent)) {\n      parse(stream, schema, result, parent);\n    }\n  };\n};\n\nexports.conditional = conditional;\n\nvar loop = function loop(schema, continueFunc) {\n  return function (stream, result, parent, parse) {\n    var arr = [];\n\n    while (continueFunc(stream, result, parent)) {\n      var newParent = {};\n      parse(stream, schema, result, newParent);\n      arr.push(newParent);\n    }\n\n    return arr;\n  };\n};\n\nexports.loop = loop;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.readBits = exports.readArray = exports.readUnsigned = exports.readString = exports.peekBytes = exports.readBytes = exports.peekByte = exports.readByte = exports.buildStream = void 0;\n\n// Default stream and parsers for Uint8TypedArray data type\nvar buildStream = function buildStream(uint8Data) {\n  return {\n    data: uint8Data,\n    pos: 0\n  };\n};\n\nexports.buildStream = buildStream;\n\nvar readByte = function readByte() {\n  return function (stream) {\n    return stream.data[stream.pos++];\n  };\n};\n\nexports.readByte = readByte;\n\nvar peekByte = function peekByte() {\n  var offset = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n  return function (stream) {\n    return stream.data[stream.pos + offset];\n  };\n};\n\nexports.peekByte = peekByte;\n\nvar readBytes = function readBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos += length);\n  };\n};\n\nexports.readBytes = readBytes;\n\nvar peekBytes = function peekBytes(length) {\n  return function (stream) {\n    return stream.data.subarray(stream.pos, stream.pos + length);\n  };\n};\n\nexports.peekBytes = peekBytes;\n\nvar readString = function readString(length) {\n  return function (stream) {\n    return Array.from(readBytes(length)(stream)).map(function (value) {\n      return String.fromCharCode(value);\n    }).join('');\n  };\n};\n\nexports.readString = readString;\n\nvar readUnsigned = function readUnsigned(littleEndian) {\n  return function (stream) {\n    var bytes = readBytes(2)(stream);\n    return littleEndian ? (bytes[1] << 8) + bytes[0] : (bytes[0] << 8) + bytes[1];\n  };\n};\n\nexports.readUnsigned = readUnsigned;\n\nvar readArray = function readArray(byteSize, totalOrFunc) {\n  return function (stream, result, parent) {\n    var total = typeof totalOrFunc === 'function' ? totalOrFunc(stream, result, parent) : totalOrFunc;\n    var parser = readBytes(byteSize);\n    var arr = new Array(total);\n\n    for (var i = 0; i < total; i++) {\n      arr[i] = parser(stream);\n    }\n\n    return arr;\n  };\n};\n\nexports.readArray = readArray;\n\nvar subBitsTotal = function subBitsTotal(bits, startIndex, length) {\n  var result = 0;\n\n  for (var i = 0; i < length; i++) {\n    result += bits[startIndex + i] && Math.pow(2, length - i - 1);\n  }\n\n  return result;\n};\n\nvar readBits = function readBits(schema) {\n  return function (stream) {\n    var _byte = readByte()(stream); // convert the byte to bit array\n\n\n    var bits = new Array(8);\n\n    for (var i = 0; i < 8; i++) {\n      bits[7 - i] = !!(_byte & 1 << i);\n    } // convert the bit array to values based on the schema\n\n\n    return Object.keys(schema).reduce(function (res, key) {\n      var def = schema[key];\n\n      if (def.length) {\n        res[key] = subBitsTotal(bits, def.index, def.length);\n      } else {\n        res[key] = bits[def.index];\n      }\n\n      return res;\n    }, {});\n  };\n};\n\nexports.readBits = readBits;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _ = require(\"../\");\n\nvar _uint = require(\"../parsers/uint8\");\n\n// a set of 0x00 terminated subblocks\nvar subBlocksSchema = {\n  blocks: function blocks(stream) {\n    var terminator = 0x00;\n    var chunks = [];\n    var total = 0;\n\n    for (var size = (0, _uint.readByte)()(stream); size !== terminator; size = (0, _uint.readByte)()(stream)) {\n      chunks.push((0, _uint.readBytes)(size)(stream));\n      total += size;\n    }\n\n    var result = new Uint8Array(total);\n    var offset = 0;\n\n    for (var i = 0; i < chunks.length; i++) {\n      result.set(chunks[i], offset);\n      offset += chunks[i].length;\n    }\n\n    return result;\n  }\n}; // global control extension\n\nvar gceSchema = (0, _.conditional)({\n  gce: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    byteSize: (0, _uint.readByte)()\n  }, {\n    extras: (0, _uint.readBits)({\n      future: {\n        index: 0,\n        length: 3\n      },\n      disposal: {\n        index: 3,\n        length: 3\n      },\n      userInput: {\n        index: 6\n      },\n      transparentColorGiven: {\n        index: 7\n      }\n    })\n  }, {\n    delay: (0, _uint.readUnsigned)(true)\n  }, {\n    transparentColorIndex: (0, _uint.readByte)()\n  }, {\n    terminator: (0, _uint.readByte)()\n  }]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xf9;\n}); // image pipeline block\n\nvar imageSchema = (0, _.conditional)({\n  image: [{\n    code: (0, _uint.readByte)()\n  }, {\n    descriptor: [{\n      left: (0, _uint.readUnsigned)(true)\n    }, {\n      top: (0, _uint.readUnsigned)(true)\n    }, {\n      width: (0, _uint.readUnsigned)(true)\n    }, {\n      height: (0, _uint.readUnsigned)(true)\n    }, {\n      lct: (0, _uint.readBits)({\n        exists: {\n          index: 0\n        },\n        interlaced: {\n          index: 1\n        },\n        sort: {\n          index: 2\n        },\n        future: {\n          index: 3,\n          length: 2\n        },\n        size: {\n          index: 5,\n          length: 3\n        }\n      })\n    }]\n  }, (0, _.conditional)({\n    lct: (0, _uint.readArray)(3, function (stream, result, parent) {\n      return Math.pow(2, parent.descriptor.lct.size + 1);\n    })\n  }, function (stream, result, parent) {\n    return parent.descriptor.lct.exists;\n  }), {\n    data: [{\n      minCodeSize: (0, _uint.readByte)()\n    }, subBlocksSchema]\n  }]\n}, function (stream) {\n  return (0, _uint.peekByte)()(stream) === 0x2c;\n}); // plain text block\n\nvar textSchema = (0, _.conditional)({\n  text: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    preData: function preData(stream, result, parent) {\n      return (0, _uint.readBytes)(parent.text.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0x01;\n}); // application block\n\nvar applicationSchema = (0, _.conditional)({\n  application: [{\n    codes: (0, _uint.readBytes)(2)\n  }, {\n    blockSize: (0, _uint.readByte)()\n  }, {\n    id: function id(stream, result, parent) {\n      return (0, _uint.readString)(parent.blockSize)(stream);\n    }\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xff;\n}); // comment block\n\nvar commentSchema = (0, _.conditional)({\n  comment: [{\n    codes: (0, _uint.readBytes)(2)\n  }, subBlocksSchema]\n}, function (stream) {\n  var codes = (0, _uint.peekBytes)(2)(stream);\n  return codes[0] === 0x21 && codes[1] === 0xfe;\n});\nvar schema = [{\n  header: [{\n    signature: (0, _uint.readString)(3)\n  }, {\n    version: (0, _uint.readString)(3)\n  }]\n}, {\n  lsd: [{\n    width: (0, _uint.readUnsigned)(true)\n  }, {\n    height: (0, _uint.readUnsigned)(true)\n  }, {\n    gct: (0, _uint.readBits)({\n      exists: {\n        index: 0\n      },\n      resolution: {\n        index: 1,\n        length: 3\n      },\n      sort: {\n        index: 4\n      },\n      size: {\n        index: 5,\n        length: 3\n      }\n    })\n  }, {\n    backgroundColorIndex: (0, _uint.readByte)()\n  }, {\n    pixelAspectRatio: (0, _uint.readByte)()\n  }]\n}, (0, _.conditional)({\n  gct: (0, _uint.readArray)(3, function (stream, result) {\n    return Math.pow(2, result.lsd.gct.size + 1);\n  })\n}, function (stream, result) {\n  return result.lsd.gct.exists;\n}), // content frames\n{\n  frames: (0, _.loop)([gceSchema, applicationSchema, commentSchema, imageSchema, textSchema], function (stream) {\n    var nextCode = (0, _uint.peekByte)()(stream); // rather than check for a terminator, we should check for the existence\n    // of an ext or image block to avoid infinite loops\n    //var terminator = 0x3B;\n    //return nextCode !== terminator;\n\n    return nextCode === 0x21 || nextCode === 0x2c;\n  })\n}];\nvar _default = schema;\nexports[\"default\"] = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.deinterlace = void 0;\n\n/**\r\n * Deinterlace function from https://github.com/shachaf/jsgif\r\n */\nvar deinterlace = function deinterlace(pixels, width) {\n  var newPixels = new Array(pixels.length);\n  var rows = pixels.length / width;\n\n  var cpRow = function cpRow(toRow, fromRow) {\n    var fromPixels = pixels.slice(fromRow * width, (fromRow + 1) * width);\n    newPixels.splice.apply(newPixels, [toRow * width, width].concat(fromPixels));\n  }; // See appendix E.\n\n\n  var offsets = [0, 4, 2, 1];\n  var steps = [8, 8, 4, 2];\n  var fromRow = 0;\n\n  for (var pass = 0; pass < 4; pass++) {\n    for (var toRow = offsets[pass]; toRow < rows; toRow += steps[pass]) {\n      cpRow(toRow, fromRow);\n      fromRow++;\n    }\n  }\n\n  return newPixels;\n};\n\nexports.deinterlace = deinterlace;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.lzw = void 0;\n\n/**\r\n * javascript port of java LZW decompression\r\n * Original java author url: https://gist.github.com/devunwired/4479231\r\n */\nvar lzw = function lzw(minCodeSize, data, pixelCount) {\n  var MAX_STACK_SIZE = 4096;\n  var nullCode = -1;\n  var npix = pixelCount;\n  var available, clear, code_mask, code_size, end_of_information, in_code, old_code, bits, code, i, datum, data_size, first, top, bi, pi;\n  var dstPixels = new Array(pixelCount);\n  var prefix = new Array(MAX_STACK_SIZE);\n  var suffix = new Array(MAX_STACK_SIZE);\n  var pixelStack = new Array(MAX_STACK_SIZE + 1); // Initialize GIF data stream decoder.\n\n  data_size = minCodeSize;\n  clear = 1 << data_size;\n  end_of_information = clear + 1;\n  available = clear + 2;\n  old_code = nullCode;\n  code_size = data_size + 1;\n  code_mask = (1 << code_size) - 1;\n\n  for (code = 0; code < clear; code++) {\n    prefix[code] = 0;\n    suffix[code] = code;\n  } // Decode GIF pixel stream.\n\n\n  var datum, bits, count, first, top, pi, bi;\n  datum = bits = count = first = top = pi = bi = 0;\n\n  for (i = 0; i < npix;) {\n    if (top === 0) {\n      if (bits < code_size) {\n        // get the next byte\n        datum += data[bi] << bits;\n        bits += 8;\n        bi++;\n        continue;\n      } // Get the next code.\n\n\n      code = datum & code_mask;\n      datum >>= code_size;\n      bits -= code_size; // Interpret the code\n\n      if (code > available || code == end_of_information) {\n        break;\n      }\n\n      if (code == clear) {\n        // Reset decoder.\n        code_size = data_size + 1;\n        code_mask = (1 << code_size) - 1;\n        available = clear + 2;\n        old_code = nullCode;\n        continue;\n      }\n\n      if (old_code == nullCode) {\n        pixelStack[top++] = suffix[code];\n        old_code = code;\n        first = code;\n        continue;\n      }\n\n      in_code = code;\n\n      if (code == available) {\n        pixelStack[top++] = first;\n        code = old_code;\n      }\n\n      while (code > clear) {\n        pixelStack[top++] = suffix[code];\n        code = prefix[code];\n      }\n\n      first = suffix[code] & 0xff;\n      pixelStack[top++] = first; // add a new string to the table, but only if space is available\n      // if not, just continue with current table until a clear code is found\n      // (deferred clear code implementation as per GIF spec)\n\n      if (available < MAX_STACK_SIZE) {\n        prefix[available] = old_code;\n        suffix[available] = first;\n        available++;\n\n        if ((available & code_mask) === 0 && available < MAX_STACK_SIZE) {\n          code_size++;\n          code_mask += available;\n        }\n      }\n\n      old_code = in_code;\n    } // Pop a pixel off the pixel stack.\n\n\n    top--;\n    dstPixels[pi++] = pixelStack[top];\n    i++;\n  }\n\n  for (i = pi; i < npix; i++) {\n    dstPixels[i] = 0; // clear missing pixels\n  }\n\n  return dstPixels;\n};\n\nexports.lzw = lzw;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.decompressFrames = exports.decompressFrame = exports.parseGIF = void 0;\n\nvar _gif = _interopRequireDefault(require(\"js-binary-schema-parser/lib/schemas/gif\"));\n\nvar _jsBinarySchemaParser = require(\"js-binary-schema-parser\");\n\nvar _uint = require(\"js-binary-schema-parser/lib/parsers/uint8\");\n\nvar _deinterlace = require(\"./deinterlace\");\n\nvar _lzw = require(\"./lzw\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar parseGIF = function parseGIF(arrayBuffer) {\n  var byteData = new Uint8Array(arrayBuffer);\n  return (0, _jsBinarySchemaParser.parse)((0, _uint.buildStream)(byteData), _gif[\"default\"]);\n};\n\nexports.parseGIF = parseGIF;\n\nvar generatePatch = function generatePatch(image) {\n  var totalPixels = image.pixels.length;\n  var patchData = new Uint8ClampedArray(totalPixels * 4);\n\n  for (var i = 0; i < totalPixels; i++) {\n    var pos = i * 4;\n    var colorIndex = image.pixels[i];\n    var color = image.colorTable[colorIndex];\n    patchData[pos] = color[0];\n    patchData[pos + 1] = color[1];\n    patchData[pos + 2] = color[2];\n    patchData[pos + 3] = colorIndex !== image.transparentIndex ? 255 : 0;\n  }\n\n  return patchData;\n};\n\nvar decompressFrame = function decompressFrame(frame, gct, buildImagePatch) {\n  if (!frame.image) {\n    console.warn('gif frame does not have associated image.');\n    return;\n  }\n\n  var image = frame.image; // get the number of pixels\n\n  var totalPixels = image.descriptor.width * image.descriptor.height; // do lzw decompression\n\n  var pixels = (0, _lzw.lzw)(image.data.minCodeSize, image.data.blocks, totalPixels); // deal with interlacing if necessary\n\n  if (image.descriptor.lct.interlaced) {\n    pixels = (0, _deinterlace.deinterlace)(pixels, image.descriptor.width);\n  }\n\n  var resultImage = {\n    pixels: pixels,\n    dims: {\n      top: frame.image.descriptor.top,\n      left: frame.image.descriptor.left,\n      width: frame.image.descriptor.width,\n      height: frame.image.descriptor.height\n    }\n  }; // color table\n\n  if (image.descriptor.lct && image.descriptor.lct.exists) {\n    resultImage.colorTable = image.lct;\n  } else {\n    resultImage.colorTable = gct;\n  } // add per frame relevant gce information\n\n\n  if (frame.gce) {\n    resultImage.delay = (frame.gce.delay || 10) * 10; // convert to ms\n\n    resultImage.disposalType = frame.gce.extras.disposal; // transparency\n\n    if (frame.gce.extras.transparentColorGiven) {\n      resultImage.transparentIndex = frame.gce.transparentColorIndex;\n    }\n  } // create canvas usable imagedata if desired\n\n\n  if (buildImagePatch) {\n    resultImage.patch = generatePatch(resultImage);\n  }\n\n  return resultImage;\n};\n\nexports.decompressFrame = decompressFrame;\n\nvar decompressFrames = function decompressFrames(parsedGif, buildImagePatches) {\n  return parsedGif.frames.filter(function (f) {\n    return f.image;\n  }).map(function (f) {\n    return decompressFrame(f, parsedGif.gct, buildImagePatches);\n  });\n};\n\nexports.decompressFrames = decompressFrames;","import { parseGIF, decompressFrames } from 'gifuct-js';\nimport Game from './game';\nimport GameObject from \"./game-object\";\nimport { IPosition, ISpeed, ISize } from './interfaces';\n\nexport default class Ship extends GameObject {\n  private maxSpeed: ISpeed;\n  protected lastSpeed: ISpeed;\n  public limitedToGameArea: boolean = false;\n  public exploded: boolean = false;\n  protected explosion: any;\n  protected explosionFrame: number | undefined;\n\n  constructor(game: Game, size: ISize, position: IPosition, maxSpeed: ISpeed) {\n    super(size.width, size.height, position, {x: 0, y: 0}, game);\n    this.maxSpeed = maxSpeed;\n    this.lastSpeed = maxSpeed;\n    \n    fetch('assets/explosion.gif')\n      .then(resp => resp.arrayBuffer())\n      .then(buff => parseGIF(buff))\n      .then(gif => {\n        this.explosion = decompressFrames(gif, true);\n        this.explosionFrame = 0;\n      });\n  }\n\n  moveLeft() {\n    if (this.position.x <= 0 && this.limitedToGameArea) {\n      this.speed.x = 0;\n    } else {\n      this.speed.x = -this.maxSpeed.x;\n    }\n  }\n  \n  moveRight() {\n    if (this.position.x + this.width >= this.game.gameWidth && this.limitedToGameArea) {\n      this.speed.x = 0;\n    } else {\n      this.speed.x = this.maxSpeed.x;\n    };\n  }\n  \n  moveUp() {\n    if (this.position.y <= 0 && this.limitedToGameArea) {\n      this.speed.y = 0;\n    } else {\n      this.speed.y = -this.maxSpeed.y;\n    }\n  }\n  \n  moveDown() {\n    if (this.position.y + this.height >= this.game.gameHeight && this.limitedToGameArea) {\n      this.speed.y = 0;\n    } else {\n      this.speed.y = this.maxSpeed.y;\n    }\n  }\n  \n  stop() {\n    this.lastSpeed = {...this.speed};\n    this.speed.x = 0;\n    this.speed.y = 0; \n    return;\n  }\n\n  update() {\n    this.speedUpdate();\n  }\n\n  _draw(ctx: CanvasRenderingContext2D) {\n    if (this.image) {\n      ctx.save();\n      ctx.translate(this.position.x + this.width / 2, this.position.y + this.height / 2); \n      ctx.rotate(this.angle);\n      ctx.translate(-(this.position.x + this.width / 2), -(this.position.y + this.height / 2)); \n      ctx.drawImage(this.image, this.position.x, this.position.y, this.width, this.height);\n      ctx.restore();\n    } else {\n      ctx.fillStyle = this.color;\n      ctx.fillRect(this.position.x, this.position.y, this.width, this.height);\n    }\n  }\n}\n","import { SHIP_MAX_SPEED, OBJECT_TYPE, GAMESTATE } from \"./constants\";\nimport Rocket from \"./rocket\";\nimport Ship from \"./ship\";\nimport Game from './game';\n\nconst START_POSITION = { x: 100, y: 100};\nexport default class PlayerShip extends Ship {\n  constructor(game: Game) {\n    super(game, { width: 40, height: 40 }, START_POSITION, SHIP_MAX_SPEED);\n    this.type = OBJECT_TYPE.PLAYER_SHIP;\n    this.limitedToGameArea = true;\n    this.color = '#00f';\n    this.loadImage('assets/player-ship.png');\n    this.angle = 90 * Math.PI / 180;\n  }\n\n  shoot() {\n    const rocketSpeed = (this.speed.x === 0 && this.speed.y === 0) && (this.lastSpeed.x !== 0 || this.lastSpeed.y !== 0) ? this.lastSpeed : this.speed;\n    const rocketPosition = {\n      x: this.position.x + this.width / 2,\n      y: this.position.y + this.height / 2,\n    }\n    const rocket = new Rocket(this.game, rocketPosition, rocketSpeed);\n    this.game.addObject(rocket);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    if (this.exploded) {\n      if (this.explosion[this.explosionFrame]) {\n        const frame = this.explosion[this.explosionFrame];\n        const tempCanvas = document.createElement('canvas');\n        const tempCtx = tempCanvas.getContext('2d');\n\n        const dims = frame.dims;\n        tempCanvas.width = dims.width;\n        tempCanvas.height = dims.height;\n        const frameImageData = tempCtx.createImageData(dims.width, dims.height);\n\n        frameImageData.data.set(frame.patch);\n        tempCtx.putImageData(frameImageData, 0, 0);\n\n        ctx.drawImage(tempCanvas, this.position.x, this.position.y, this.width, this.height)\n\n        this.explosionFrame++;\n      } else {\n        this.game.gameState = GAMESTATE.MENU;\n      }\n    } else {\n        this._draw(ctx);\n      }\n  }\n}","import { randomIntFromInterval } from \"./utils\";\nimport { OBJECT_TYPE } from \"./constants\";\nimport Game from \"./game\";\nimport GameObject from \"./game-object\"\nimport { IPosition, ISize, ISpeed } from \"./interfaces\";\n\nconst PARTICLE_SPEED: readonly<ISpeed> = { x: 1, y: 1 };\nconst PARTICLE_SIZE: readonly<ISize> = { width: 2, height: 2 };\n\nexport default class Particle extends GameObject {\n  \n  constructor(game: Game, position: IPosition) {\n    const particleSpeed: ISpeed = {\n      x: PARTICLE_SPEED.x * randomIntFromInterval(-10, 10),\n      y: PARTICLE_SPEED.y * randomIntFromInterval(-10, 10)\n    };\n    super(PARTICLE_SIZE.width, PARTICLE_SIZE.height, position, particleSpeed, game);\n    this.type = OBJECT_TYPE.PARTICLE;\n    this.color = '#fffaff';\n  }\n\n  update() { \n    this.speedUpdate();\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.position.x, this.position.y, this.width, this.height);\n  }\n}","import { randomIntFromInterval } from \"./utils\";\nimport Game from \"./game\";\nimport { IPosition } from \"./interfaces\";\nimport Particle from './particle';\n\nexport default class ExplodedShip {\n  private position: IPosition;\n  private numberOfParticles: number\n\n  constructor(game: Game, position: IPosition) {\n    this.position = position;\n    this.numberOfParticles = randomIntFromInterval(10, 20);\n\n    for (let i = 0; i < this.numberOfParticles; i++) {\n      const particle = new Particle(game, this.position);\n      game.addObject(particle);\n    }\n  }\n}","import { detectCollision, outsideOfGame, randomIntFromInterval, plusOrMinus } from \"./utils\";\nimport { OBJECT_TYPE } from \"./constants\";\nimport ExplodedShip from './exploded-ship';\nimport Game from \"./game\";\nimport Ship from \"./ship\";\n\nexport default class EnemyShip extends Ship {\n\n  constructor(game: Game) {\n    const startingPositionY: number = randomIntFromInterval(0, 600); \n    super(game, { width: 30, height: 30}, { x: 700, y: startingPositionY }, { x: -1, y: 0});\n    this.speed = { x: -1, y: 0};\n    this.type = OBJECT_TYPE.ENEMY_SHIP;\n    this.color = '#0f0';\n    this.loadImage('assets/alien-ship2.png');\n    setInterval(() => {\n      this.randomWay();\n    }, 700);\n  }\n\n  randomWay() {\n    this.speed.x = plusOrMinus();\n    this.speed.y = plusOrMinus();\n  }\n\n  update() {\n    // this.randomWay();\n    this.speedUpdate();\n    if (outsideOfGame(this, this.game)){\n      this.isDeleted = true;\n    } else {\n      const playerShip = this.game.gameObjects.find((object: any) => object.type === OBJECT_TYPE.PLAYER_SHIP);\n      if (playerShip && detectCollision(this, playerShip)){\n        playerShip.exploded = true;\n      }\n    }\n\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    if (this.exploded) {\n      if (this.explosion[this.explosionFrame]) {\n        const frame = this.explosion[this.explosionFrame];\n        const tempCanvas = document.createElement('canvas');\n        const tempCtx = tempCanvas.getContext('2d');\n\n        const dims = frame.dims;\n        tempCanvas.width = dims.width;\n        tempCanvas.height = dims.height;\n        const frameImageData = tempCtx.createImageData(dims.width, dims.height);\n\n        frameImageData.data.set(frame.patch);\n        tempCtx.putImageData(frameImageData, 0, 0);\n\n        ctx.drawImage(tempCanvas, this.position.x, this.position.y, this.width, this.height)\n\n        this.explosionFrame++;\n      } else {\n        new ExplodedShip(this.game, this.position);\n        this.isDeleted = true;\n      }\n      return;\n    } else {\n      this._draw(ctx);\n    }\n  }\n\n}","import { IMenuButton, IPosition, ISize } from \"./interfaces\";\n\nexport default class GameScreen {\n  private size: ISize;\n  private content: string = '';\n  private buttonElements: Array<any> = [];\n  private imageElements: Array<any> = [];\n\n  constructor(size: ISize) {\n    this.size = size;\n  }\n\n  setContent(content: string, position?: IPosition) {\n    this.content = content;\n  }\n\n  addMenuButton(menuButton: IMenuButton) {\n    this.buttonElements.push(menuButton);\n  }\n\n  addImages(image: any) {\n    this.imageElements.push(image);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.rect(0, 0, this.size.width, this.size.height);\n    ctx.fillStyle = \"rgba(0,0,0,1)\";\n    ctx.fill();\n\n    if (this.content){\n      ctx.font = \"30px Arial\";\n      ctx.fillStyle = \"white\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(this.content, this.size.width / 2, this.size.height / 2);\n    }\n\n    if (this.buttonElements.length > 0) {\n      this.buttonElements.forEach(element => {\n        ctx.font = \"30px Arial\";\n        ctx.fillStyle = \"white\";\n        ctx.textAlign = \"center\";\n        ctx.beginPath();\n        ctx.rect(element.x, element.y, element.width, element.height); \n        ctx.fillStyle = element.fillStyle;\n        ctx.lineWidth = element.lineWidth;\n        ctx.strokeStyle = element.strokeStyle; \n        ctx.stroke();\n        ctx.closePath();\n        ctx.font = element.font;\n        ctx.fillStyle = element.fillStyle;\n        ctx.fillText(element.content, element.x + element.width / 2 , element.y + element.height / 2 + 10);\n      });\n    }\n\n    if (this.imageElements.length > 0) {\n      this.imageElements.forEach(image => {\n        ctx.drawImage(image.image, this.size.width / 2 - image.size.width / 2, 80, image.size.width, image.size.height);\n      });\n    }\n  }\n}","export default class ScrollingSprite {\n    private image: any;\n    private x: number;\n    private y: number;\n    private width: number;\n    private height: number;\n    private speed: number;\n\n    constructor(image: any, x: number, y: number, width: number, height: number, speed: number) {\n        this.image = image;\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.speed = speed;\n    }\n\n    scroll() {\n        this.x -= this.speed;\n        if (this.x <= -this.width) {\n            this.x = this.width - 1;\n        }\n    }\n\n    draw(ctx: CanvasRenderingContext2D) {\n        ctx.drawImage(this.image, this.x, this.y, this.width, this.height);\n    }\n}","import { IPosition } from './interfaces';\n\nexport default class MouseInputHandler {\n  private canvas: HTMLCanvasElement;\n  constructor(elements: Array<any>) {\n    this.canvas = document.querySelector('#game-canvas');\n    if (!this.canvas) return;\n \n    this.canvas.addEventListener('click', (event: MouseEvent) => {\n      const mousePos = this.getMousePos(this.canvas, event);\n      elements.forEach(element => {\n        if (this.isInside(mousePos, element)) {\n          if (element.action) element.action();\n          return;\n        }\n      });\n    }, false);\n  }\n\n  getMousePos(canvas: HTMLCanvasElement, event: MouseEvent) {\n    const rect = canvas.getBoundingClientRect();\n    return {\n      x: event.clientX - rect.left,\n      y: event.clientY - rect.top\n    };\n  }\n  isInside(pos: IPosition, rect: any) {\n    return (\n      pos.x >= rect.x && \n      pos.x <= (rect.x + rect.width) && \n      pos.y <= (rect.y + rect.height) && \n      pos.y >= rect.y);\n  }\n}\n","import { ISize } from \"./interfaces\";\nimport GameScreen from \"./game-screen\";\nimport MouseInputHandler from \"./mouse-input\";\nimport Game from \"./game\";\nimport { GAMESTATE } from \"./constants\";\n\nexport default class MenuScreen extends GameScreen {\n  public game: Game;\n  constructor(size: ISize, game: Game) {\n    super(size);\n    this.game = game;\n\n    const buttons = [\n      {\n        width: 300,\n        height: 50,\n        x: (size.width - 300) / 2,\n        y: 150 + (size.height - 220) / 4,\n        content: 'GAME1',\n        lineWidth: 2,\n        fillStyle: '#f3f3f3',\n        strokeStyle: '#242424',\n        font: 'Arial',\n        action: () => {\n          this.game.gameState = GAMESTATE.RUNNING;\n        }\n      },\n      {\n        width: 300,\n        height: 50,\n        x: (size.width - 300) / 2,\n        y: 150 + (size.height - 220) / 4 * 2,\n        content: 'GAME2',\n        lineWidth: 2,\n        fillStyle: '#f3f3f3',\n        strokeStyle: '#242424',\n        font: 'Arial',\n        action: () => {\n          this.game.gameState = GAMESTATE.RUNNING;\n        }\n      },\n      {\n        width: 300,\n        height: 50,\n        x: (size.width - 300) / 2,\n        y: 150 + (size.height - 220) / 4 * 3,\n        content: 'GAME3',\n        lineWidth: 2,\n        fillStyle: '#f3f3f3',\n        strokeStyle: '#242424',\n        font: 'Arial',\n        action: () => {\n          this.game.gameState = GAMESTATE.RUNNING;\n        }\n      },\n      {\n        width: 300,\n        height: 50,\n        x: (size.width - 300) / 2,\n        y: 150 + (size.height - 220) / 4 * 4,\n        content: 'EXIT',\n        lineWidth: 2,\n        fillStyle: '#f3f3f3',\n        strokeStyle: '#242424',\n        font: 'Arial',\n        action: () => {\n          window.location.href = 'https://www.playngo.com/';\n        }\n      }\n    ];\n\n    if (!this.game.isMouselistenerAdded) {\n      new MouseInputHandler(buttons);\n      this.game.isMouselistenerAdded = true;\n    }\n\n    const logo = new Image();\n    logo.src = 'assets/millennium-falcon.png';\n    const logoImage = {\n      image: logo,\n      size: {\n        width: 100,\n        height: 100\n      }\n    }\n    this.addImages(logoImage);\n\n    buttons.forEach(button => {\n      this.addMenuButton(button);\n    })\n  }\n}","import { ISize } from \"./interfaces\";\nimport GameScreen from \"./game-screen\";\nimport Game from \"./game\";\nimport { GAMESTATE } from \"./constants\";\n\nexport default class SplashScreen extends GameScreen {\n  public game: Game;\n  private image: any;\n  private angle: number = 10;\n  constructor(size: ISize, game: Game) {\n    super(size);\n    this.game = game;\n    this.image = new Image(300, 300);\n    this.image.src = 'assets/millennium-falcon.png';\n\n    setTimeout(() => {\n        this.game.gameState = GAMESTATE.MENU;\n    }, 2000);\n  }\n\n  update() {\n    this.angle += 4;\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    ctx.fillStyle = '#000000';\n    ctx.fillRect(0, 0, this.game.gameWidth, this.game.gameHeight);\n    ctx.save();\n    ctx.translate(this.game.gameWidth / 2, this.game.gameHeight / 2); \n    ctx.rotate(this.angle * Math.PI / 180);\n    ctx.translate(-(this.game.gameWidth / 2), -(this.game.gameHeight / 2)); \n    ctx.drawImage(this.image, this.game.gameWidth / 2 - 150, this.game.gameHeight / 2 -150, 300, 300);\n    ctx.restore();\n  }\n}","import KeyInputHandler from \"./key-input\";\nimport { GAMESTATE } from \"./constants\";\nimport PlayerShip from \"./player-ship\";\nimport EnemyShip from \"./enemy-ship\";\nimport Rocket from \"./rocket\";\nimport GameScreen from \"./game-screen\";\nimport ScrollingSprite from './scrolling-sprite';\nimport Particle from \"./particle\";\nimport MenuScreen from \"./menu-screen\";\nimport SplashScreen from \"./splash-screen\";\n\nconst BACKGROUND_IMAGE = 'assets/space.png';\nconst BACKGROUND_SPEED = 0.3;\n\nexport default class Game {\n  private playerShip: PlayerShip;\n  private sprites: Array<any> = [];\n  protected isMouselistenerAdded: boolean = false;\n  public gameWidth: number;\n  public gameHeight: number;\n  public gameState: number;\n  public gameObjects: Array<PlayerShip | Rocket | EnemyShip | Particle> = [];\n  public resources: any = {};\n  private screens: any = {};\n\n  constructor(gameWidth: number, gameHeight: number) {\n    this.gameWidth = gameWidth;\n    this.gameHeight = gameHeight;\n    this.gameState = GAMESTATE.SPLASH_SCREEN;\n    this.gameObjects = [];\n\n    this.resources['backgroundImage'] = new Image(this.gameWidth, this.gameHeight);\n    this.resources['backgroundImage'].src = BACKGROUND_IMAGE;\n    this.resources['backgroundImage'].position = {\n      x: 0,\n      y: 0\n    };\n\n    const bgSprite = new ScrollingSprite(this.resources['backgroundImage'], 0, 0, this.gameWidth, this.gameHeight, BACKGROUND_SPEED);\n    const bgSprite2 = new ScrollingSprite(this.resources['backgroundImage'], -this.gameWidth, 0, this.gameWidth, this.gameHeight, BACKGROUND_SPEED);\n    this.sprites = [bgSprite, bgSprite2];\n\n\n    this.playerShip = new PlayerShip(this);\n\n    this.gameObjects = [this.playerShip];\n\n    new KeyInputHandler(this.playerShip, this);\n\n    this.screens[GAMESTATE.SPLASH_SCREEN] = new SplashScreen({width: this.gameWidth, height: this.gameHeight}, this);\n    this.screens[GAMESTATE.MENU] = new MenuScreen({width: this.gameWidth, height: this.gameHeight}, this);\n    this.screens[GAMESTATE.GAMEOVER] = new GameScreen({width: this.gameWidth, height: this.gameHeight});\n\n    this.initNewEnemies();\n  }\n \n  addObject(object: PlayerShip | Rocket | EnemyShip | Particle) {\n    this.gameObjects.push(object);\n  }\n\n  start() {\n    if (this.gameState === GAMESTATE.RUNNING) return;\n    this.gameState = GAMESTATE.RUNNING;\n    this.gameObjects = [this.playerShip];\n  }\n\n  menu() {\n    if (this.gameState === GAMESTATE.MENU) return;\n    this.gameState = GAMESTATE.MENU;\n    this.gameObjects = [this.playerShip];    \n  }\n\n  update(deltaTime: number) {\n    this.gameObjects.forEach((object: PlayerShip | Rocket | EnemyShip | Particle) => {\n      object.update();\n    });\n    this.gameObjects = this.gameObjects.filter(object => !object.isDeleted);\n  }\n\n  draw(ctx: CanvasRenderingContext2D) {\n    if (this.gameState === GAMESTATE.SPLASH_SCREEN) {\n      this.screens[GAMESTATE.SPLASH_SCREEN].update();\n      this.screens[GAMESTATE.SPLASH_SCREEN].draw(ctx);\n    }\n\n    if (this.gameState === GAMESTATE.MENU) {\n      this.screens[GAMESTATE.MENU].draw(ctx);\n    }\n\n    if (this.gameState === GAMESTATE.GAMEOVER) {\n      this.screens[GAMESTATE.GAMEOVER].setContent('GAME OVER');\n      this.screens[GAMESTATE.GAMEOVER].draw(ctx);\n    }\n\n    if (this.gameState === GAMESTATE.RUNNING) {\n      this.sprites.forEach(sprite => {\n        sprite.scroll();\n        sprite.draw(ctx);\n      });\n\n      this.gameObjects.forEach((object) => object.draw(ctx));\n    }\n  }\n\n  initNewEnemies() {\n    setInterval(() => {\n      if (this.gameState === GAMESTATE.RUNNING) {\n        const enemy = new EnemyShip(this);\n        this.gameObjects.push(enemy);\n      }\n  }, 2000);\n  }\n\n}\n","import Game from \"./game\";\n\nlet canvas = <HTMLCanvasElement>document.querySelector(\"#game-canvas\");\nlet ctx = canvas.getContext(\"2d\");\n\nconst GAME_WIDTH = 800;\nconst GAME_HEIGHT = 600;\n\nlet game = new Game(GAME_WIDTH, GAME_HEIGHT);\n\nlet lastTime: number = 0;\nfunction gameLoop(timestamp: number) {\n  // console.log(\"gameLoop\", timestamp);\n  let deltaTime: number = timestamp - lastTime;\n  lastTime = timestamp;\n\n  ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);\n\n  game.update(deltaTime);\n  game.draw(ctx);\n\n  requestAnimationFrame(gameLoop);\n}\n\nrequestAnimationFrame(gameLoop);\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}